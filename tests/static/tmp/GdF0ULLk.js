var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-1434510-17']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s)})();$(function(){$("#login").hide().attr("title","Log in to Haskellers").dialog({autoOpen:false,width:500,modal:true});$("input[type=submit]").button();$("#login-button").click(function(){$("#login").dialog('open');return false});$("#nav").css('height',$('html').height()+'px');$("#haskell_bar input[type=submit]").hide();$("#haskell_bar select").change(function(){$("#haskell_bar form").submit()});$("#browserid").click(function(){navigator.id.getVerifiedEmail(function(assertion){if(assertion){document.location="http://localhost:3000/auth/page/browserid/"+assertion}else alert("BrowserID login failed, please try again.")})})});$(function(){$.getJSON("http://localhost:3000/locations",function(data){var map=new google.maps.Map(document.getElementById("map_canvas"),{zoom:2,scrollwheel:false,center:new google.maps.LatLng(30,0),mapTypeId:google.maps.MapTypeId.ROADMAP});for(var i=0;i<data.locations.length;++i){var marker=new google.maps.Marker({map:map,position:new google.maps.LatLng(data.locations[i].lat,data.locations[i].lng),title:data.locations[i].name});addMarkerLink(marker,data.locations[i].url)}})})
function addMarkerLink(marker,url){google.maps.event.addListener(marker,"click",function(){document.location=url})}